!function(d,e,f,g){XF.Rating=XF.Element.newHandler({options:{theme:"fontawesome-stars",initialRating:null,ratingHref:null,readonly:!1,deselectable:!1,showSelected:!0},ratingOverlay:null,init:function(){this.$target.barrating({theme:this.options.theme,initialRating:this.options.initialRating,readonly:this.options.readonly?!0:!1,deselectable:this.options.deselectable?!0:!1,showSelectedRating:this.options.showSelected?!0:!1,onSelect:XF.proxy(this,"ratingSelected")});this.options.showSelected&&this.$target.next(".br-widget").addClass("br-widget--withSelected");
this.options.initialRating&&this.$target.val(this.options.initialRating)},ratingSelected:function(a,b,h){!this.options.readonly&&this.options.ratingHref&&(this.ratingOverlay&&this.ratingOverlay.destroy(),this.$target.barrating("clear"),XF.ajax("get",this.options.ratingHref,{rating:a},XF.proxy(this,"loadOverlay")))},loadOverlay:function(a){if(a.html){var b=this;XF.setupHtmlInsert(a.html,function(a,c){a=XF.getOverlayHtml({html:a,title:c.h1||c.title});b.ratingOverlay=XF.showOverlay(a)})}}});XF.Element.register("rating",
"XF.Rating")}(jQuery,window,document);
